---
title: "Introduction to structural equation modelling - advanced modelling techniques"
author: "Frank Pennekamp"
date: "`r format(Sys.time(), '%d.%m.%Y')`"
output: 
  beamer_presentation: 
    incremental: no
    toc: no
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)

library(DiagrammeR)
library(ggplot2)
```

## Interaction questions (Moderation)

- Present another question involving a new variable with an interactive effect (X3 -> (Y -> Z)). 
- Show the graphical representation. 
- Explanation of interactive effects. 
- Include partial plots to illustrate the interaction effect.  
- Make clear that this is the same as an interaction in traditional regression models. 

\centering
![](images/Interaction.pdf){width=50%}


```{r, out.width="50%", fig.align='center', include=F}
grViz("
digraph boxes_and_circles {

  # a 'graph' statement
  graph [overlap = true, fontsize = 10, layout = dot,
       rankdir = RL]

  # several 'node' statements
  node [shape = box,
        fontname = Helvetica]
  X1; X2; Y, middleman

  # several 'edge' statements
    X1->middleman[arrowhead=none];
    middleman->Y;
    middleman[shape=none width=0 height=0 label='' style=invis]
    X2->middleman [constraint=false];

}
")
```

## Latent variables

Until now everything was about paths but modelling also involves variables.
A variable that is not directly measured is a latent variable (examples).

\centering
![](images/LatentCompositeSEM.pdf){width=50%}


```{r, out.width="50%", fig.align='center', include=F}
grViz("
digraph boxes_and_circles {
   
   node [shape=box]
   X1;X2;X3;Z;

   
   node [shape=circle]
   Y
    
    Y -> X1;
    Y -> X2;
    Y -> X3;
    Y -> Z;
    Z;
    
  X1->X2->X3 [style='invis']
  {rank = 'max'; Z}
  {rank = 'min'; X1}
  {rank = 'same'; X1;X2;X3}
}
")
```

## Composite variables

Composite variables specify the influences of collections of other variables (examples)

\centering
![](images/LatentCompositeSEM.pdf){width=50%}


```{r, out.width="50%", fig.align='center', include=F}
grViz("
digraph boxes_and_circles {
   
   node [shape=box]
   X1;X2;X3;Z;

   
   node [shape=hexagon]
   Y
    
      X1 -> Y;
    X2 -> Y;
    X3 -> Y;
    Y -> Z;
    Z;
    
  X1->X2->X3 [style='invis']
  {rank = 'max'; Z}
  {rank = 'same'; X1;X2;X3}
}
")
```



